[gd_scene load_steps=34 format=3 uid="uid://icbfj05gq8vk"]

[ext_resource type="Script" path="res://cotu/CotuControl.gd" id="1_aleek"]
[ext_resource type="Script" path="res://cotu/CotuHurtbox.gd" id="2_fvpfg"]
[ext_resource type="PackedScene" uid="uid://jmlvld0xwhcx" path="res://glb_inherited_scenes/cotu_anims_17.tscn" id="3_qnno8"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_80wmm"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_kxw61"]

[sub_resource type="SphereMesh" id="SphereMesh_dx5gt"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_d7hp7"]
albedo_color = Color(0.52549, 0.00392157, 0.894118, 1)

[sub_resource type="PrismMesh" id="PrismMesh_jrkru"]
material = SubResource("StandardMaterial3D_d7hp7")
size = Vector3(0.75, 0.75, 0.25)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_sn2j3"]
animation = &"AerialEvadeFast"
play_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2xvry"]
animation = &"FrontTwistFlipFast"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_u7ese"]
animation = &"AscendPose"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_apkcv"]
animation = &"Idle_pose"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_g1blj"]
animation = &"Run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pieoh"]
animation = &"DodgeRun"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_f6p3t"]
animation = &"DescendPose"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pmyfb"]
animation = &"AscendPose"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_stjvg"]
animation = &"DescendPose"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_44u3n"]
blend_point_0/node = SubResource("AnimationNodeAnimation_u7ese")
blend_point_0/pos = Vector2(0, 1)
blend_point_1/node = SubResource("AnimationNodeAnimation_apkcv")
blend_point_1/pos = Vector2(0, 0)
blend_point_2/node = SubResource("AnimationNodeAnimation_g1blj")
blend_point_2/pos = Vector2(10, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_pieoh")
blend_point_3/pos = Vector2(15, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_f6p3t")
blend_point_4/pos = Vector2(0, -1)
blend_point_5/node = SubResource("AnimationNodeAnimation_pmyfb")
blend_point_5/pos = Vector2(15, 1)
blend_point_6/node = SubResource("AnimationNodeAnimation_stjvg")
blend_point_6/pos = Vector2(15, -1)
max_space = Vector2(15, 1)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_y5nju"]
animation = &"QuickSpinCCWBackwards"
play_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8vgq7"]
animation = &"QuickSpinCW"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_sxmkw"]
xfade_time = 0.15
advance_mode = 2
advance_condition = &"just_dodged"
advance_expression = "abs(walk_input.y) == 0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_nolyx"]
xfade_time = 0.2
priority = 2
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_nele4"]
xfade_time = 0.1
advance_mode = 2
advance_condition = &"just_dodged"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ahun8"]
xfade_time = 0.1
advance_mode = 2
advance_condition = &"just_dodged"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4n1fb"]
xfade_time = 0.15
advance_mode = 2
advance_condition = &"just_dodged"
advance_expression = "abs(walk_input.y) > 0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_w13l8"]
xfade_time = 0.15
priority = 2
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_3sep5"]
xfade_time = 0.05
advance_mode = 2
advance_condition = &"just_instant_rethrew"
advance_expression = "!moving_right"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_6pr6l"]
xfade_time = 0.15
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_wuyjb"]
xfade_time = 0.05
advance_mode = 2
advance_condition = &"just_instant_rethrew"
advance_expression = "moving_right"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_af52k"]
xfade_time = 0.15
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_vq4bk"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_auidk"]
states/AerialEvadeFast/node = SubResource("AnimationNodeAnimation_sn2j3")
states/AerialEvadeFast/position = Vector2(412.453, -60.9085)
states/End/position = Vector2(900, 103.062)
states/FrontTwistFlipFast/node = SubResource("AnimationNodeAnimation_2xvry")
states/FrontTwistFlipFast/position = Vector2(412.456, 50.9432)
states/MoveBlendSpace/node = SubResource("AnimationNodeBlendSpace2D_44u3n")
states/MoveBlendSpace/position = Vector2(85.4368, 102.609)
states/QuickSpinCCW/node = SubResource("AnimationNodeAnimation_y5nju")
states/QuickSpinCCW/position = Vector2(412.454, 241.971)
states/QuickSpinCW/node = SubResource("AnimationNodeAnimation_8vgq7")
states/QuickSpinCW/position = Vector2(412.451, 140.017)
states/Start/position = Vector2(-96.5, 102.836)
transitions = ["MoveBlendSpace", "AerialEvadeFast", SubResource("AnimationNodeStateMachineTransition_sxmkw"), "AerialEvadeFast", "MoveBlendSpace", SubResource("AnimationNodeStateMachineTransition_nolyx"), "AerialEvadeFast", "FrontTwistFlipFast", SubResource("AnimationNodeStateMachineTransition_nele4"), "FrontTwistFlipFast", "AerialEvadeFast", SubResource("AnimationNodeStateMachineTransition_ahun8"), "MoveBlendSpace", "FrontTwistFlipFast", SubResource("AnimationNodeStateMachineTransition_4n1fb"), "FrontTwistFlipFast", "MoveBlendSpace", SubResource("AnimationNodeStateMachineTransition_w13l8"), "MoveBlendSpace", "QuickSpinCW", SubResource("AnimationNodeStateMachineTransition_3sep5"), "QuickSpinCW", "MoveBlendSpace", SubResource("AnimationNodeStateMachineTransition_6pr6l"), "MoveBlendSpace", "QuickSpinCCW", SubResource("AnimationNodeStateMachineTransition_wuyjb"), "QuickSpinCCW", "MoveBlendSpace", SubResource("AnimationNodeStateMachineTransition_af52k"), "Start", "MoveBlendSpace", SubResource("AnimationNodeStateMachineTransition_vq4bk")]
graph_offset = Vector2(-19.4775, -94.3834)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_wg7n8"]
graph_offset = Vector2(-213.12, 102.72)
nodes/StateMachine/node = SubResource("AnimationNodeStateMachine_auidk")
nodes/StateMachine/position = Vector2(70, 150)
node_connections = [&"output", 0, &"StateMachine"]

[node name="cotuCB" type="CharacterBody3D"]
collision_layer = 16
collision_mask = 74
script = ExtResource("1_aleek")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
visible = false
mesh = SubResource("CapsuleMesh_80wmm")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_kxw61")

[node name="CameraTwistPivot" type="Node3D" parent="."]

[node name="CameraPitchPivot" type="Node3D" parent="CameraTwistPivot"]

[node name="CameraVisualObject" type="MeshInstance3D" parent="CameraTwistPivot/CameraPitchPivot"]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, 2.08165e-12, 2.08165e-12, 6)
gi_mode = 0
mesh = SubResource("SphereMesh_dx5gt")
skeleton = NodePath("")

[node name="Camera3D" type="Camera3D" parent="CameraTwistPivot/CameraPitchPivot/CameraVisualObject"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 2.08165e-12, 2.08165e-12)

[node name="RangPointerPivot" type="Node3D" parent="."]

[node name="RangPointer" type="MeshInstance3D" parent="RangPointerPivot"]
transform = Transform3D(1, -6.97574e-16, -1.5246e-23, -1.5246e-23, -4.37114e-08, 1, -6.97574e-16, -1, -4.37114e-08, 2.08165e-12, 2.08165e-12, -2)
gi_mode = 0
mesh = SubResource("PrismMesh_jrkru")
skeleton = NodePath("../..")

[node name="Hurtbox" type="Area3D" parent="."]
collision_mask = 11
script = ExtResource("2_fvpfg")
health = 10000
enemy_hitboxes = ["EnemyHitbox"]

[node name="HurtboxCollider" type="CollisionShape3D" parent="Hurtbox"]
shape = SubResource("CapsuleShape3D_kxw61")

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeBlendTree_wg7n8")
anim_player = NodePath("../CotuAnims/AnimationPlayer")
advance_expression_base_node = NodePath("..")
active = true
parameters/StateMachine/conditions/just_dodged = false
parameters/StateMachine/conditions/just_instant_rethrew = false
parameters/StateMachine/MoveBlendSpace/blend_position = Vector2(0, 0)

[node name="CotuAnims" parent="." instance=ExtResource("3_qnno8")]

[node name="Skeleton3D" parent="CotuAnims/Armature" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, -0.988, 2.08165e-12)
bones/1/rotation = Quaternion(-0.0575528, 0, 0, 0.998342)
bones/4/rotation = Quaternion(0.0575527, -5.38994e-13, 2.6138e-11, 0.998342)
bones/7/rotation = Quaternion(-0.549038, -0.441331, 0.565987, -0.428302)
bones/8/rotation = Quaternion(-0.0915406, 0.00171005, -0.0186011, 0.995626)
bones/9/rotation = Quaternion(-0.0468408, -0.00281745, 0.0599725, 0.997096)
bones/10/rotation = Quaternion(0.0535228, 0.109109, 0.0148282, 0.992477)
bones/31/rotation = Quaternion(0.549725, -0.440786, 0.56543, 0.428718)
bones/32/rotation = Quaternion(-0.0916217, -0.00178568, 0.0194077, 0.995603)
bones/33/rotation = Quaternion(-0.0470464, 0.00275632, -0.0584284, 0.997179)
bones/34/rotation = Quaternion(0.0529586, -0.106524, -0.0196144, 0.992705)
bones/55/rotation = Quaternion(-0.00119041, -0.0293431, 0.998752, -0.0403995)
bones/55/scale = Vector3(1.00002, 1, 1.00001)
bones/56/rotation = Quaternion(-0.00708003, -1.42536e-05, 0.000276752, 0.999975)
bones/57/rotation = Quaternion(0.503606, -0.00458463, 0.0026691, 0.863917)
bones/58/rotation = Quaternion(0.276034, -0.0943951, 0.0272482, 0.956113)
bones/60/rotation = Quaternion(0.00125708, -0.0304303, 0.99872, 0.0403907)
bones/60/scale = Vector3(1.00002, 1, 1.00001)
bones/61/rotation = Quaternion(-0.00083746, 8.29215e-06, -0.000309023, 1)
bones/62/rotation = Quaternion(0.493462, 0.00480413, -0.00271807, 0.86975)
bones/63/rotation = Quaternion(0.282048, 0.0939061, -0.0277473, 0.95439)

[editable path="CotuAnims"]
